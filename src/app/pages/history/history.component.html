<div class="container" style="padding:2rem 1rem;">
	<div style="margin-bottom:1rem;">
		<h1 style="font-size:1.75rem; font-weight:700; margin:0;">Request History</h1>
		<p class="muted" style="margin-top:0.35rem;">View and manage all your API request history</p>
	</div>

	<div class="card" style="margin-bottom:1rem;">
		<div class="card-padding" style="display:flex; flex-wrap:wrap; gap:0.75rem; align-items:center; justify-content:space-between;">
			<div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
				<div class="relative">
					<input placeholder="Search requests..." style="padding:0.5rem 0.75rem; padding-left:2.5rem; border:1px solid var(--border); border-radius:0.375rem; min-width: 220px;" class="pl10" />
					<span class="icon left" style="left:0.5rem;">
						<img src="/search.svg" alt="" width="16" height="16" />
					</span>
				</div>
				<select style="padding:0.5rem 0.75rem; border:1px solid var(--border); border-radius:0.375rem;">
					<option>All Methods</option>
					<option>GET</option>
					<option>POST</option>
					<option>PUT</option>
					<option>PATCH</option>
					<option>DELETE</option>
				</select>
				<select style="padding:0.5rem 0.75rem; border:1px solid var(--border); border-radius:0.375rem;">
					<option>All Status</option>
					<option>2xx Success</option>
					<option>3xx Redirect</option>
					<option>4xx Client Error</option>
					<option>5xx Server Error</option>
				</select>
			</div>
			<button class="btn outline" (click)="clear()">Clear All</button>
		</div>
	</div>

	<div class="card">
		<div class="card-padding" style="overflow:auto;">
			<table *ngIf="entries.length; else empty" class="hist-table">
				<thead>
					<tr>
						<th>Method</th>
						<th>URL</th>
						<th>Status</th>
						<th>Time</th>
						<th>Timestamp</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let e of entries">
						<td><span class="badge" [ngClass]="'text-method-' + e.method.toLowerCase()">{{ e.method }}</span></td>
						<td class="url">{{ e.url }}</td>
						<td>{{ e.status }}</td>
						<td>{{ e.durationMs }} ms</td>
						<td>{{ e.ts | date:'short' }}</td>
					</tr>
				</tbody>
			</table>
			<ng-template #empty>
				<p class="muted" style="text-align:center; padding: 1.5rem 0;">No requests yet.</p>
			</ng-template>
		</div>
	</div>
</div>
